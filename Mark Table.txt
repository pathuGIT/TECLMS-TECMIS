//Create VIEW SM_NO_1_QUIZ where Asm_no = 1
 CREATE VIEW ASM_NO_1_QUIZ AS
 SELECT * FROM assignment
 WHERE Asm_no = 1;

//Create VIEW SM_NO_2_QUIZ where Asm_no = 2
 CREATE VIEW ASM_NO_2_QUIZ AS
 SELECT * FROM assignment
 WHERE Asm_no = 2;

//Create view ASSIGNMENT_MAX_MARK
CREATE VIEW ASSIGNMENT_MAX_MARK AS
 SELECT
    IF(a.Asm_mark >= b.Asm_mark, a.Asm_mark, b.Asm_mark) AS Max_Mark,
    a.Std_id,
    a.Crs_id
 FROM ASM_NO_1_QUIZ AS a, ASM_NO_2_QUIZ AS b
 WHERE a.Std_id = b.Std_id AND a.Crs_id = b.Crs_id;

//Create view Qiz_no_1_Result
 Create view Qiz_no_1_Result AS
 select * from quiz where Qiz_no = 1;

//Create Qiz_no_2_Result
 Create view Qiz_no_2_Result AS
 select * from quiz where Qiz_no = 2;

//Create view SUM_OF_QUIZ_MARK
Create view Quiz_Mark_of_sum AS
 select
   (a.Qiz_mark + b.Qiz_mark) AS Quiz_mark,
   a.Std_id,
   a.Crs_id
 from qiz_no_1_result AS a, qiz_no_2_result AS b
 WHERE a.Std_id = b.Std_id AND a.Crs_id = b.Crs_id;


//CREATE VIEW FOUNDATION_OF_MARK
CREATE VIEW FOUNDATION_OF_MARK AS
 SELECT
     a.Max_Mark as Assignment_mark,
     q.Quiz_mark,
     m.Mid_mark,
     (a.Max_Mark + q.Quiz_mark + m.Mid_mark) AS CA_Mark,
     IF((a.Max_Mark + q.Quiz_mark + m.Mid_mark)>19, 'Pass','Fail') AS CA_Status,
     e.End_marks,
     (a.Max_Mark + q.Quiz_mark + m.Mid_mark + e.End_marks) AS Total_Mark,
     e.Std_id,
     e.Crs_id
     FROM
      assignment_max_mark AS a,
      quiz_mark_of_sum AS q,
      mid AS m,
      end AS e
     WHERE
      a.Crs_id = q.Crs_id AND a.Crs_id = m.Crs_id AND a.Crs_id = e.Crs_id AND
      q.Crs_id = a.Crs_id AND q.Crs_id = m.Crs_id AND q.Crs_id = e.Crs_id AND
      m.Crs_id = a.Crs_id AND m.Crs_id = q.Crs_id AND m.Crs_id = e.Crs_id AND
      e.Crs_id = a.Crs_id AND e.Crs_id = q.Crs_id AND e.Crs_id = m.Crs_id AND
      a.Std_id = q.Std_id AND a.Std_id = m.Std_id AND a.Std_id = e.Std_id AND
      q.Std_id = a.Std_id AND q.Std_id = m.Std_id AND q.Std_id = e.Std_id AND
      m.Std_id = a.Std_id AND m.Std_id = q.Std_id AND m.Std_id = e.Std_id AND
      e.Std_id = a.Std_id AND e.Std_id = q.Std_id AND e.Std_id = m.Std_id;

//CREATE VIEW MARK
CREATE VIEW MARK AS
SELECT
    Std_id,
    Crs_id,
    CA_Status,
    Total_Mark,
    CASE
        WHEN Total_Mark >= 90 THEN 'A+'
        WHEN Total_Mark >= 84 THEN 'A'
        WHEN Total_Mark >= 75 THEN 'A-'
        WHEN Total_Mark >= 70 THEN 'B+'
        WHEN Total_Mark >= 65 THEN 'B'
        WHEN Total_Mark >= 60 THEN 'B-'
        WHEN Total_Mark >= 55 THEN 'C+'
        WHEN Total_Mark >= 50 THEN 'C'
        WHEN Total_Mark >= 45 THEN 'C-'
        WHEN Total_Mark >= 40 THEN 'D+'
        WHEN Total_Mark >= 35 THEN 'D'
        ELSE 'F'
    END AS Grade
FROM
    FOUNDATION_OF_MARK;

